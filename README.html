<html>
	<head>
		<title>README for SubEtha</title>
	</head>

	<body>
		<h1>README</h1>
		
		<p>
			For installation instructions, see: 
		</p>

		<ul>
			<li>
				The <a href="docs/InstallGuide.html">install guide</a> if you downloaded
				the standalone package.
			</li>
		</ul>

		<p>
			Note that you can upgrade any RTR version of SubEtha by copying the
			newer se.war file into ${resin.dir}/webapps/.
		</p>

		<p>
			<strong>This version requires Resin 4.0.</strong>
		</p>

		<h2>Changes</h2>
		<dl>
			<dt>2.0</dt>
			<dd>
				<p>For 2.0, SubEtha was ported to Resin 4.0. </p>
				<p>Many architectural changes were made but very few bug fixes or features were added (or needed :).</p>
				<p>Also, we've moved to a new home at google code.</p>
				
				<p>Here are some of the changes to note:</p>
				
				<ul>
					<li>Updated Libraries (Hibernate, Logging, SubethaSMTP)</li>
					<li>Updated Packaging and Docs</li>
					<li>Developed and Tested on MySQL and PostgresSQL</li>
					<li>Allow "sent on behalf of" emails (ie. Sender: and From: are different)</li>
					<li>Limited EnvelopeSender address length (and encoding; base-62 now)</li>
					<li>Minor HTML changes on various pages.</li>
					<li>Added Hessian Remote Protocol Support (removed "WS" remoting)</li>
					<li>Indexing and Cleanup start shortly after deployment, and periodically as before.</li>
					<li>Much smaller memory footprint, and quicker startup (less 5 seconds in some cases)</li>
				</ul>

				<p>If you are <b>upgrading</b> from a previous version, these changes *must* be
				made to the database (these are for MySQL, your database data types may be
				different):</p>
				
				<ul>
					<li>ALTER TABLE Mail CHANGE fromField sender TEXT;</li>
					<li>ALTER TABLE Mail CHANGE envelopeSender senderNormal TEXT NOT NULL;</li>
				</ul>
			</dd>
		
			<dt>1.0.2</dt>
			<dd>
				<ul>
					<li>Workaround problem with building ear on JDK6 and deploying on JDK5.</li>
					<li>Updated Velocity from 1.4 to 1.5.</li>
					<li>Added integration documentation for Sendmail and Qmail.</li>
					<li>Include PlumberBean in order to allow mail-service.xml overrides for unit testing.</li>
					<li>Reverted URL redirection changes for proxied subetha installations.</li>
				</ul>
			</dd>

			<dt>1.0.1</dt>
			<dd>
				<ul>
					<li>Fixed problem with the AppendFooterFilter not properly encapsulating 
					the footer in multipart mime messages.</li>
					<li>Updated to JBoss 4.0.5.GA from the JEMS 1.2.0 GA installer.</li>
					<li>Ant build system has been rewritten from scratch.</li>
					<li>The ready-to-run (RTR) release is now based off a copy of JBoss that we 
						maintain in our <a href="http://guest@subetha.tigris.org/svn/subetha/jboss/trunk/">svn repo</a>.</li>
					<li>Added a new filter mode for archive rendering (mail web view).</li>
					<li>Filter exceptions no longer stop processing of the message.</li>
					<li>Messages without subjects were throwing exceptions if the SubjectFilter was enabled.</li>
					<li>Added ability to download/export messages.</li>
					<li>UI tweaks and improvements.</li>
				</ul>
			</dd>
	
			<dt>1.0</dt>
			<dd>
				<ul>
					<li>Fixed a bug rendering the permission error page.</li>
					<li>Fixed a problem unsubscribing from lists.</li>
				</ul>
			</dd>

			<dt>0.9.6</dt>
			<dd>
				<ul>
					<li>Workaround for a major Hibernate bug introduced in JBoss 4.0.5.GA.</li>
				</ul>
			</dd>
			
			<dt>0.9.5</dt>
			<dd>
				<ul>

					<li>Now expects JBoss 4.0.5.GA.</li>
					<li>The list of lists page should show # of subscribers 
						and # of archived messages.</li>
					<li>Added the ability to post a new or reply to a message 
						on a list via the web UI.</li>
					<li>Show confirmation screen when mass subscribing.</li>
					<li>Allow linefeed termination of emails when mass subscribing.</li>
				</ul>
			</dd>
			
			<dt>0.9</dt>
			<dd>
				<ul>

					<li>Preliminary SOAP web service API exposed.</li>

					<li>Many minor UI improvements.</li>

					<li>Now works with the "new" JBoss 4.0.4.GA that has API change.</li>

					<li>Added small google adsense.</li>

					<li>The search indexer wasn't running properly.  It is now.</li>
					<li>The cleanup thread was not running properly.  It is now.</li>
					<li>Empty archive searches send a stack trace.</li>
					<li>UI for search results have been cleaned up. In addition,
						we now display the search score as a value from 
						1 to 10.</li>

					<li>Site admins can delete mailing lists.</li>

					<li>List admins can now delete messages from list archives.</li>
				</ul>
			</dd>

			<dt>0.8</dt>
			<dd>
				<ul>
					<li>List administrators can now edit subscriber options.</li>
					<li>Administrator removal now works.</li>
					<li>Stabilized the order of many lists (subscriptions, email addresses, etc).</li>
					<li>"Your mail held" notifications now set at most once per day per sender address.</li>
					<li>Old held mail and held subscriptions are now periodically purged.</li>
					<li>Fixed a problem changing the postmaster address.</li>
					<li>Added $archiveUrl context variable to the AppendFooterFilter.</li>
					<li>You can now remove any email address as long as you have more than one.</li>
					<li>Various minor UI improvements.</li>
				</ul>
				<p>
					<strong>NOTE:</strong>  The names of some of the roles have changed.
					You must update your database before SubEtha will function.  Shut
					down the JBoss instance running SubEtha and run the following queries:
				</p>
				<ol>
					<li>update RolePermission set perm='EDIT_SUBSCRIPTIONS' where perm='UNSUBSCRIBE_OTHERS'</li>
					<li>update RolePermission set perm='VIEW_ARCHIVES' where perm='READ_ARCHIVES'</li>
					<li>update RolePermission set perm='VIEW_NOTES' where perm='READ_NOTES'</li>
				</ol>
			</dd>
			
			<dt>0.7</dt>
			<dd>
				<ul>
					<li>Implemented fulltext searching for archives.</li>
					<li>Improved integration documentation.</li>
					<li>More UI cleanup.</li>
					<li>Several bugs fixed.</li>
				</ul>
				<p>
					<strong>NOTE:</strong>  The database schema changed slightly.  To upgrade
					from 0.6 or before, follow these instructions <strong>before deploying the
					new code</strong>.
				</p>
				<ol>
					<li>Shut down SubEtha.</li>
					<li>Rename column Mail.dateCreated to Mail.sentDate.</li>
					<li>Add column Mail.arrivalDate of same type as Mail.sentDate.</li>
					<li>update Mail set arrivalDate = sentDate</li>
					<li>Set Mail.arrivalDate to NOT NULL.</li>
				</ol>
			</dd>
		
			<dt>0.6</dt>
			<dd>
				<ul>
					<li>Much internal refactoring.</li>
					<li>More useful information on list overview page.</li>
					<li>Archive threading cleaned up.</li>
					<li>User interface cleaned up.</li>
					<li>SMTP port now overridable with system property.</li>
					<li>Several bugs fixed.</li>
				</ul>
			</dd>
		
			<dt>0.5</dt>
			<dd>Initial release</dd>
		</dl>
	</body>
</html>
