<!--
	This file should be copied to ${resin.home}/conf/subetha.xml.
	It will be included when the web-app config is loaded by reading resin-web.xml
-->

<web-app xmlns="http://caucho.com/ns/resin"
	xmlns:resin="urn:java:com.caucho.resin"
	xmlns:smtp="urn:java:org.subethamail.core.smtp"
	>

	<!--
		This lets you override the parameters of the builtin SMTP server.  All
		of the fields are optional.

		A note about fallbackHost:  If specified, SubEtha will proxy
		to another host all SMTP exchanges which are not intended
		for active lists on this server.  This allows you to run SubEtha
		on port 25, facing the world, in concert with your MTA but without
		altering your MTA configuration. See the administration documentation
		for more details. 
	-->
	
	<smtp:SMTPService>
		<port>2500</port>
	</smtp:SMTPService>
	
	<!--
		Your MTA which can send outbound mail.  SubEtha relies on
		an external MTA such as Postfix, Exim, or Sendmail to do this.
		Ensure that your MTA allows SubEtha to relay through it.
	-->
	<mail name="outbound">
		<smtp-host>localhost</smtp-host>
		<smtp-port>25</smtp-port>
		<properties>mail.smtp.allow8bitmime=true</properties> <!-- See the FaQ -->
	</mail>

	<!-- 
		Your database.  SubEtha will create the schema when it first connects.

		Note that nearly all driver properties are simply setter methods on the
		appropriate objects; you can look at the javadocs for your
		JDBC drivers for more configuration options.
	-->
	<database jndi-name="jdbc/subetha">
		<driver type="org.postgresql.ds.PGConnectionPoolDataSource">
			<serverName>localhost</serverName>
			<databaseName>subetha</databaseName>
			<user>subetha</user>
			<password>subetha</password>
			<portNumber>5432</portNumber> <!--  might be 5433 for 8.4 (with 8.3 legacy upgrade) -->			
		</driver>
	</database>

	<!-- Here is a version for MySQL:
	
	<database jndi-name="jdbc/subetha">
		<driver type="com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource">
			<url>jdbc:mysql://localhost:3306/subetha</url>
			<user>subetha</user>
			<password>subetha</password>
		</driver>
	</database>	
	-->
</web-app>
