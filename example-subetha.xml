<!--
	This file should be copied to ${resin.home}/conf/subetha.xml.
	
	Note that nearly all properties are simply setter methods on the
	appropriate objects; you can look at the javadocs for your
	JDBC drivers, etc for more configuration options.
-->

<web-app xmlns="http://caucho.com/ns/resin"
	xmlns:resin="urn:java:com.caucho.resin"
	xmlns:smtp="urn:java:org.subethamail.core.smtp"
	>
	
	<!--
		Your MTA which can send outbound mail.  SubEtha relies on
		an external MTA such as Postfix, Exim, or Sendmail to do this.
		Ensure that your MTA allows SubEtha to relay through it.
	-->
	<mail name="outbound">
		<smtp-host>localhost</smtp-host>
		<smtp-port>25</smtp-port>
		<!-- See http://code.google.com/p/subetha/wiki/FaQ - enable at your own risk
		<properties>mail.smtp.allow8bitmime=true</properties>
		-->
	</mail>

	<!-- 
		Your database.  SubEtha will create the schema when it first connects.
	-->
	<database jndi-name="jdbc/subetha">
		<driver type="org.postgresql.ds.PGConnectionPoolDataSource">
			<serverName>localhost</serverName>
			<databaseName>subetha</databaseName>
			<user>subetha</user>
			<password>subetha</password>
		</driver>
	</database>

	<!-- Here is a version for MySQL:
	
	<database jndi-name="jdbc/subetha">
		<driver type="com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource">
			<url>jdbc:mysql://localhost:3306/subetha</url>
			<user>subetha</user>
			<password>subetha</password>
		</driver>
	</database>	
	-->

	<!-- 
		DO NOT UNCOMMENT ON ANYTHING BELOW THIS LINE ON RESIN 4.0.0
		
		IT SHOULD WORK ON RESIN 4.0.1
		
		Yes, this means you cannot change the port, bind address, or set
		a fallback host on Resin 4.0.0.  There is a way, but it is a
		temporary workaround - ask on the mailing list.
	-->

	<!--
		This lets you override the parameters of the builtin SMTP server.  All
		of the fields are optional.

		A note about fallbackHost:  If specified, SubEtha will proxy
		to another host all SMTP exchanges which are not intended
		for active lists on this server.  This allows you to run SubEtha
		on port 25, facing the world, in concert with your MTA but without
		altering your MTA configuration. See the administration documentation
		for more details.

	<smtp:SMTPService>
		<port>2500</port>
		<bindAddress>yourinterface</bindAddress>
		<fallbackHost>localhost:2525</fallbackHost>
	</smtp:SMTPService>
	-->

</web-app>
